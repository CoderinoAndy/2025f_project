<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Junk</title>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />

    <style>
      :root{
        --bg:#222;
        --panel:#2f2f2f;
        --panel-2:#3a3a3a;
        --text:#eaeaea;
        --muted:#bcbcbc;
      }
      body{ background:var(--bg); color:var(--text); }
      .headerbar{
        background:#2b2b2b; padding:10px 14px; border-bottom:1px solid #3f3f3f;
      }
      .navlink{ color:var(--text); text-decoration:none; opacity:0.9; }
      .navlink:hover{ opacity:1; text-decoration:underline; }
      .tablehead{
        background:#2b2b2b; border-radius:12px; padding:12px 16px;
      }
      .headlabel{ font-weight:700; }
      .email-row{
        display:block;
        background:var(--panel);
        border-radius:12px;
        padding:12px 16px;
        margin-top:10px;
        text-decoration:none;
        color:var(--text);
        border:1px solid #3f3f3f;
      }
      .email-row:hover{ background:var(--panel-2); }
      .muted{ color:var(--muted); }
      .wrap{ overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
      .priority{ margin-left:8px; opacity:0.9; }
    </style>
  </head>

  <body>
    <div class="headerbar d-flex align-items-center justify-content-between">
      <a class="navlink" href="{{ url_for('main.about') }}"><i class="bi bi-arrow-left"></i> Back</a>
      <div class="text-end">
        <a class="navlink" href="{{ url_for('main.allemails') }}">All Emails</a>
      </div>
    </div>

    <div class="container py-3" style="max-width: 980px;">
      <h3 class="mb-3">Junk</h3>

      <div class="tablehead">
        <div class="row">
          <div class="col-6 headlabel">Email title</div>
          <div class="col-3 headlabel text-center">Type</div>
          <div class="col-3 headlabel text-end">Date</div>
        </div>
      </div>

      {% if emails and emails|length > 0 %}
        {% for email in emails %}
          <a class="email-row" href="{{ url_for('main.email', id=email.id) }}">
            <div class="row align-items-center">
              <div class="col-6 wrap">
                {{ email.title }}
                {% if email.priority %}
                  <span class="priority">{{ "â˜…" * email.priority }}</span>
                {% endif %}
                <div class="muted" style="font-size: 12px;">From {{ email.sender }}</div>
              </div>
              <div class="col-3 text-center muted">{{ email.type }}</div>
              <div class="col-3 text-end muted">{{ email.date|fmt_dt }}</div>
            </div>
          </a>
        {% endfor %}
      {% else %}
        <div class="email-row">
          <div class="muted">No junk mail to display.</div>
        </div>
      {% endif %}
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>