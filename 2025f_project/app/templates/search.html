<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Search</title>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />
    <style>
      .search-wrap{
        background: var(--panel);
        border: 1px solid var(--border);
        border-radius: 12px;
        padding: 16px;
        margin-top: 14px;
      }
      .btn-ghost{
        background: transparent;
        border: 1px solid var(--border);
        color: var(--text);
      }
      .btn-ghost:hover{
        border-color: rgba(167, 139, 250, 0.55);
      }
    </style>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
  </head>

  <body>
    {% include "_navbar.html" %}

    <div class="container-fluid py-3 px-4">
      <div class="search-wrap">
        <div class="d-flex align-items-center justify-content-between flex-wrap gap-2">
          <div>
            <h2 class="mb-1">Search</h2>
            <div class="muted">Search by keyword (title, sender, or body).</div>
          </div>
        </div>

        <!-- GET puts the search in the URL like /search?q=hello -->
        <form class="mt-3" method="get" action="{{ url_for('main.search') }}">
          <div class="input-group">
            <input
              type="text"
              class="form-control"
              name="q"
              value="{{ query if query else '' }}"
              placeholder="Type keywords here..."
              aria-label="Search keywords"
            />
            <button class="btn btn-light" type="submit">
              <i class="bi bi-search"></i>
              Search
            </button>
            <a class="btn btn-ghost" href="{{ url_for('main.search') }}">Clear</a>
          </div>
        </form>
      </div>
      <div class="list-shell">
        {% set empty_message = "No mail to display." %}
        {% include "_live_email_rows.html" %}
      </div>
    </div>

    <a class="compose-fab" href="{{ url_for('main.compose', next=current_list_url) }}" aria-label="Compose email">
      <i class="bi bi-pencil" aria-hidden="true"></i>
      <span>Compose</span>
    </a>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
